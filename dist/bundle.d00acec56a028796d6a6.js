webpackJsonp([1,2],{138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(242);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var r=n(243);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},222:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),d=n(0),f=l(d),m=n(130),p=n(132),g=n(131),h=l(g),b=n(138),v=n(241),y=l(v),S=function(e){function t(){var e,n,l,r;o(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=l=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={url:{longUrl:"",error:!1,valid:!1,loading:!1},windowSmall:!1,list:{data:[],error:!1,loading:!1,loadingDots:[]},urlSubmit:!1,copied:!1},l._handleSubmit=function(e){return e.preventDefault(),l.setState({url:s({},l.state.url,{loading:!0})}),(0,p.isURL)(l.state.url.longUrl)?setTimeout(function(){l.props.submitLink(l.state.url.longUrl).then(function(e){l.setState({urlSubmit:!0,url:s({},l.state.url,{longUrl:"http://shneed.com/"+e.data.url.shortUrl,loading:!1,valid:!0})})},function(){return l.setState({url:s({},l.state.url,{error:!0,loading:!1})})})},1e3):l.setState({url:s({},l.state.url,{error:!0}),urlSubmit:!0})},l._handleChange=function(e){l.setState({url:s({},l.state.url,{longUrl:e.target.value})})},l._checkUrlState=function(){if(l.state.url.error)return"error"},l._handleReset=function(){return l.setState({urlSubmit:!1,url:s({},l.state.url,{error:!1,longUrl:"",valid:!1}),copied:!1})},l._handleCopy=function(){l.setState({copied:!0}),setTimeout(function(){l.setState({copied:!1})},1250)},l._checkButtonText=function(e,t){return e?"Error":t?f.default.createElement("span",{className:"glyphicon glyphicon-refresh",id:"loading-spinner"}):"ShortNeed"},r=n,u(l,r)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;return this.setState({list:s({},this.state.list,{loading:!0})}),this.int=setInterval(function(){3===e.state.list.loadingDots.length&&e.setState({list:s({},e.state.list,{loadingDots:[]})}),e.setState({list:s({},e.state.list,{loadingDots:[].concat(a(e.state.list.loadingDots),["."])})})},300),setTimeout(function(){e.props.get5Recents().then(function(t){e.setState({list:s({},e.state.list,{data:t.data.urls,loading:!1,loadingDots:[]})}),clearInterval(e.int)},function(){return e.setState({list:s({},e.state.list,{error:!0,loading:!1})})})},1e3)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return window.innerWidth<500?e.setState({windowSmall:!0}):e.setState({windowSmall:!1})})}},{key:"render",value:function(){var e=this.state,t=e.url,n=e.urlSubmit,l=e.copied,a=e.list;return f.default.createElement("div",{className:"container input-wrapper"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2"},f.default.createElement("form",{onSubmit:this._handleSubmit},f.default.createElement(m.FormGroup,{validationState:this._checkUrlState(),bsSize:"lg"},t.error&&f.default.createElement(m.ControlLabel,null,"Url not valid, try again!"),f.default.createElement(m.InputGroup,null,f.default.createElement(m.FormControl,{disabled:n,value:t.longUrl,onChange:this._handleChange,type:"text",placeholder:"Paste your url..."}),t.valid?f.default.createElement(h.default,{text:this.state.url.longUrl,onCopy:this._handleCopy},f.default.createElement(m.InputGroup.Button,null,f.default.createElement(m.Button,{bsStyle:"success",bsSize:"lg"},"Copy"),l&&f.default.createElement(m.Tooltip,{placement:"bottom",className:"in",id:"tooltip-bottom"},"Copied"))):f.default.createElement(m.InputGroup.Button,null,f.default.createElement(m.Button,r({type:"submit",disabled:t.loading,bsStyle:t.error?"danger":"primary",bsSize:"lg"},"disabled",0===t.longUrl.length||t.error),this._checkButtonText(t.error,t.loading))))))),n&&f.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 text-center"},f.default.createElement(m.Button,{bsSize:"lg",onClick:this._handleReset,bsStyle:"warning"},"Reset")),f.default.createElement(y.default,s({},a,{windowSmall:this.state.windowSmall}))))}}]),t}(d.Component);S.defaultProps={get5Recents:b.get5Recents,submitLink:b.submitLink},t.default=S},223:function(e,t){},241:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=l(r),o=n(138),u=function(e){var t=e.data,n=e.loading,l=e.loadingDots,r=e.error,u=e.windowSmall;return a.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2",id:"list-urls"},a.default.createElement("hr",null),a.default.createElement("h5",{className:"text-center"},"Last 5 ShortNeed urls."),a.default.createElement("br",null),n?a.default.createElement("h1",{className:"text-center"},"Loading",l):a.default.createElement("div",null,r?a.default.createElement("div",{className:"alert alert-danger",role:"alert"},"Something wrong happen! Plz Refresh!"):a.default.createElement("ul",{className:"list-group"},t.map(function(e,t){return a.default.createElement("a",{href:e.shortUrl,className:"list-group-item",key:t},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-10 col-sm-10 col-xs-9"},u?(0,o.truncateText)(e.longUrl,35):e.longUrl),a.default.createElement("div",{className:"col-md-2 col-sm-2 col-xs-3"},e.visits," ",a.default.createElement("i",{className:"fa fa-line-chart"}))))}))))};t.default=u},242:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.submitLink=t.get5Recents=void 0;var r=n(129),a=l(r);a.default.defaults.baseURL="/api/v1";t.get5Recents=function(){return a.default.get("/get5Recents")},t.submitLink=function(e){return a.default.post("/shorten",{longUrl:e})}},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.truncateText=function(e,t){return e.length<t?e:e.substring(0,t)+"..."}},517:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=l(r),o=n(16),u=n(222),i=l(u);n(223),(0,o.render)(a.default.createElement(i.default,null),document.getElementById("app"))}},[517]);