webpackJsonp([1,2],{224:function(e,t,l){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,l=Array(e.length);t<e.length;t++)l[t]=e[t];return l}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},s=function(){function e(e,t){for(var l=0;l<t.length;l++){var r=t[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,l,r){return l&&e(t.prototype,l),r&&e(t,r),t}}(),c=l(0),d=r(c),f=l(134),p=l(136),m=l(135),g=r(m),h=l(245),b=l(243),y=r(b),v=function(e){function t(){var e,l,r,n;a(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return l=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={url:{longUrl:"",error:!1,valid:!1,loading:!1},list:{data:[],error:!1,loading:!1,loadingDots:[]},urlSubmit:!1,copied:!1},r._handleSubmit=function(e){return e.preventDefault(),r.setState({url:i({},r.state.url,{loading:!0})}),(0,p.isURL)(r.state.url.longUrl)?setTimeout(function(){r.props.submitLink(r.state.url.longUrl).then(function(e){r.setState({urlSubmit:!0,url:i({},r.state.url,{longUrl:"http://shneed.com/"+e.data.url.shortUrl,loading:!1,valid:!0})})},function(){return r.setState({url:i({},r.state.url,{error:!0,loading:!1})})})},3e3):(console.log("Hello"),r.setState({url:i({},r.state.url,{error:!0}),urlSubmit:!0}))},r._handleChange=function(e){r.setState({url:i({},r.state.url,{longUrl:e.target.value})})},r._checkUrlState=function(){if(r.state.url.error)return"error"},r._handleReset=function(){return r.setState({urlSubmit:!1,url:i({},r.state.url,{error:!1,longUrl:"",valid:!1}),copied:!1})},r._handleCopy=function(){r.setState({copied:!0}),setTimeout(function(){r.setState({copied:!1})},1250)},r._checkButtonText=function(e,t){return e?"Error":t?d.default.createElement("span",{className:"glyphicon glyphicon-refresh",id:"loading-spinner"}):"ShortNeed"},n=l,o(r,n)}return u(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;return this.setState({list:i({},this.state.list,{loading:!0})}),this.int=setInterval(function(){3===e.state.list.loadingDots.length&&e.setState({list:i({},e.state.list,{loadingDots:[]})}),e.setState({list:i({},e.state.list,{loadingDots:[].concat(n(e.state.list.loadingDots),["."])})})},300),setTimeout(function(){e.props.getTop5().then(function(t){e.setState({list:i({},e.state.list,{data:t.data.urls,loading:!1,loadingDots:[]})}),clearInterval(e.int)},function(){return e.setState({list:i({},e.state.list,{error:!0,loading:!1})})})},2e3)}},{key:"render",value:function(){var e=this.state,t=e.url,l=e.urlSubmit,r=e.copied,n=e.list;return d.default.createElement("div",{className:"container input-wrapper"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2"},d.default.createElement("form",{onSubmit:this._handleSubmit},d.default.createElement(f.FormGroup,{validationState:this._checkUrlState(),bsSize:"lg"},t.error&&d.default.createElement(f.ControlLabel,null,"Url not valid, try again!"),d.default.createElement(f.InputGroup,null,d.default.createElement(f.FormControl,{disabled:l,value:t.longUrl,onChange:this._handleChange,type:"text",placeholder:"Paste your url..."}),t.valid?d.default.createElement(g.default,{text:this.state.url.longUrl,onCopy:this._handleCopy},d.default.createElement(f.InputGroup.Button,null,d.default.createElement(f.Button,{type:"submit",bsStyle:"success",bsSize:"lg"},"Copy"),r&&d.default.createElement(f.Tooltip,{placement:"bottom",className:"in",id:"tooltip-bottom"},"Copied"))):d.default.createElement(f.InputGroup.Button,null,d.default.createElement(f.Button,{type:"submit",disabled:t.loading,bsStyle:t.error?"danger":"primary",bsSize:"lg",disabled:0===t.longUrl.length||t.error},this._checkButtonText(t.error,t.loading))))))),l&&d.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 text-center"},d.default.createElement(f.Button,{bsSize:"lg",onClick:this._handleReset,bsStyle:"warning"},"Reset")),d.default.createElement(y.default,n)))}}]),t}(d.default.Component);v.defaultProps={getTop5:h.getTop5,submitLink:h.submitLink},t.default=v},225:function(e,t){},243:function(e,t,l){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=l(0),a=r(n),o=function(e){var t=e.data,l=e.loading,r=e.loadingDots,n=e.error;return a.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2",id:"list-urls"},a.default.createElement("hr",null),a.default.createElement("h5",{className:"text-center"},"Top 5 ShortNeed visited"),a.default.createElement("br",null),l?a.default.createElement("h1",{className:"text-center"},"Loading",r):a.default.createElement("div",null,n?a.default.createElement("div",{className:"alert alert-danger",role:"alert"},"Something wrong happen! Plz Refresh!"):a.default.createElement("ul",{className:"list-group"},t.map(function(e,t){return a.default.createElement("a",{href:e.shortUrl,className:"list-group-item",key:t},a.default.createElement("span",{className:"badge"},e.visits),e.longUrl)}))))};t.default=o},244:function(e,t,l){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.submitLink=t.getTop5=void 0;var n=l(133),a=r(n);a.default.defaults.baseURL="/api/v1";t.getTop5=function(){return a.default.get("/getTop5")},t.submitLink=function(e){return a.default.post("/shorten",{longUrl:e})}},245:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(244);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},528:function(e,t,l){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=l(0),a=r(n),o=l(17),u=l(224),i=r(u);l(225),(0,o.render)(a.default.createElement(i.default,null),document.getElementById("app"))}},[528]);