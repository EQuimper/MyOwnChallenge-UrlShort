webpackJsonp([1,2],{224:function(e,t,r){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,r,l){return r&&e(t.prototype,r),l&&e(t,l),t}}(),d=r(0),f=l(d),p=r(134),m=r(136),g=r(135),h=l(g),b=r(245),y=r(243),v=l(y),_=function(e){function t(){var e,r,l,n;o(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=l=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={url:{longUrl:"",error:!1,valid:!1,loading:!1},list:{data:[],error:!1,loading:!1,loadingDots:[]},urlSubmit:!1,copied:!1},l._handleSubmit=function(e){return e.preventDefault(),l.setState({url:s({},l.state.url,{loading:!0})}),(0,m.isURL)(l.state.url.longUrl)?setTimeout(function(){l.props.submitLink(l.state.url.longUrl).then(function(e){l.setState({urlSubmit:!0,url:s({},l.state.url,{longUrl:"http://shneed.com/"+e.data.url.shortUrl,loading:!1,valid:!0})})},function(){return l.setState({url:s({},l.state.url,{error:!0,loading:!1})})})},1e3):(console.log("Hello"),l.setState({url:s({},l.state.url,{error:!0}),urlSubmit:!0}))},l._handleChange=function(e){l.setState({url:s({},l.state.url,{longUrl:e.target.value})})},l._checkUrlState=function(){if(l.state.url.error)return"error"},l._handleReset=function(){return l.setState({urlSubmit:!1,url:s({},l.state.url,{error:!1,longUrl:"",valid:!1}),copied:!1})},l._handleCopy=function(){l.setState({copied:!0}),setTimeout(function(){l.setState({copied:!1})},1250)},l._checkButtonText=function(e,t){return e?"Error":t?f.default.createElement("span",{className:"glyphicon glyphicon-refresh",id:"loading-spinner"}):"ShortNeed"},n=r,u(l,n)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;return this.setState({list:s({},this.state.list,{loading:!0})}),this.int=setInterval(function(){3===e.state.list.loadingDots.length&&e.setState({list:s({},e.state.list,{loadingDots:[]})}),e.setState({list:s({},e.state.list,{loadingDots:[].concat(a(e.state.list.loadingDots),["."])})})},300),setTimeout(function(){e.props.getTop5().then(function(t){e.setState({list:s({},e.state.list,{data:t.data.urls,loading:!1,loadingDots:[]})}),clearInterval(e.int)},function(){return e.setState({list:s({},e.state.list,{error:!0,loading:!1})})})},1e3)}},{key:"render",value:function(){var e=this.state,t=e.url,r=e.urlSubmit,l=e.copied,a=e.list;return f.default.createElement("div",{className:"container input-wrapper"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2"},f.default.createElement("form",{onSubmit:this._handleSubmit},f.default.createElement(p.FormGroup,{validationState:this._checkUrlState(),bsSize:"lg"},t.error&&f.default.createElement(p.ControlLabel,null,"Url not valid, try again!"),f.default.createElement(p.InputGroup,null,f.default.createElement(p.FormControl,{disabled:r,value:t.longUrl,onChange:this._handleChange,type:"text",placeholder:"Paste your url..."}),t.valid?f.default.createElement(h.default,{text:this.state.url.longUrl,onCopy:this._handleCopy},f.default.createElement(p.InputGroup.Button,null,f.default.createElement(p.Button,{type:"submit",bsStyle:"success",bsSize:"lg"},"Copy"),l&&f.default.createElement(p.Tooltip,{placement:"bottom",className:"in",id:"tooltip-bottom"},"Copied"))):f.default.createElement(p.InputGroup.Button,null,f.default.createElement(p.Button,n({type:"submit",disabled:t.loading,bsStyle:t.error?"danger":"primary",bsSize:"lg"},"disabled",0===t.longUrl.length||t.error),this._checkButtonText(t.error,t.loading))))))),r&&f.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 text-center"},f.default.createElement(p.Button,{bsSize:"lg",onClick:this._handleReset,bsStyle:"warning"},"Reset")),f.default.createElement(v.default,a)))}}]),t}(d.Component);_.defaultProps={getTop5:b.getTop5,submitLink:b.submitLink},t.default=_},225:function(e,t){},243:function(e,t,r){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),a=l(n),o=function(e){var t=e.data,r=e.loading,l=e.loadingDots,n=e.error;return a.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2",id:"list-urls"},a.default.createElement("hr",null),a.default.createElement("h5",{className:"text-center"},"Top 5 ShortNeed visited"),a.default.createElement("br",null),r?a.default.createElement("h1",{className:"text-center"},"Loading",l):a.default.createElement("div",null,n?a.default.createElement("div",{className:"alert alert-danger",role:"alert"},"Something wrong happen! Plz Refresh!"):a.default.createElement("ul",{className:"list-group"},t.map(function(e,t){return a.default.createElement("a",{href:e.shortUrl,className:"list-group-item",key:t},a.default.createElement("span",{className:"badge"},e.visits),e.longUrl)}))))};t.default=o},244:function(e,t,r){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.submitLink=t.getTop5=void 0;var n=r(133),a=l(n);a.default.defaults.baseURL="/api/v1",t.getTop5=function(){return a.default.get("/getTop5")},t.submitLink=function(e){return a.default.post("/shorten",{longUrl:e})}},245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(244);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})},528:function(e,t,r){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=r(0),a=l(n),o=r(17),u=r(224),i=l(u);r(225),(0,o.render)(a.default.createElement(i.default,null),document.getElementById("app"))}},[528]);